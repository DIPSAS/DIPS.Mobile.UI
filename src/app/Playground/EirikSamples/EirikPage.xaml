<?xml version="1.0" encoding="utf-8"?>

<dui:ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:dui="http://dips.com/mobile.ui"
             xmlns:eirikSamples="clr-namespace:Playground.EirikSamples"
             xmlns:system="clr-namespace:System;assembly=System.Runtime"
             x:Class="Playground.EirikSamples.EirikPage"
             x:DataType="{x:Type eirikSamples:EirikPageViewModel}"
             x:Name="This">
    <dui:ContentPage.BindingContext>
        <eirikSamples:EirikPageViewModel />
    </dui:ContentPage.BindingContext>
    <dui:CollectionView x:Name="List"
                        ItemsSource="{Binding List}"
                        IsGrouped="True">
        <dui:CollectionView.GroupHeaderTemplate>
            <DataTemplate x:DataType="eirikSamples:GroupedStrings">
                <dui:Label>
                    <dui:Label.Text>
                        <MultiBinding Converter="{dui:PositionInListConverter Position=First, TrueObject=I am first group, FalseObject=I am not first group}">
                            <Binding /> <!-- The item -->
                            <Binding Path="BindingContext.List"
                                     Source="{Reference List}"
                                     x:DataType="dui:CollectionView"/> <!-- The list -->
                        </MultiBinding>
                    </dui:Label.Text>
                </dui:Label>
            </DataTemplate>
        </dui:CollectionView.GroupHeaderTemplate>
        <dui:CollectionView.ItemTemplate>
            <DataTemplate x:DataType="{x:Type system:String}">
                <dui:Label Text="{Binding .}"/>
            </DataTemplate>
        </dui:CollectionView.ItemTemplate>
        
    </dui:CollectionView>
</dui:ContentPage>