<?xml version="1.0" encoding="utf-8"?>

<dui:ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:dui="http://dips.com/mobile.ui"
             xmlns:collectionViewTests="clr-namespace:Playground.VetleSamples.CollectionViewTests"
             x:Class="Playground.VetleSamples.CollectionViewTests.RegularCollectionView">

    <ContentPage.BindingContext>
        <collectionViewTests:RegularCollectionViewModel />
    </ContentPage.BindingContext>
    
    <Grid RowDefinitions="Auto, *">
        
        <dui:Switch x:Name="Switch" />
    
        <dui:CollectionView ItemsSource="{Binding TestItems}"
                            IsVisible="{Binding Source={x:Reference Switch}, Path=IsToggled}"
                            Grid.Row="1"
                            x:Name="CollectionView"
                            HasAdditionalSpaceAtTheEnd="True"
                            BackgroundColor="Transparent"
                            dui:Layout.AutoCornerRadius="True"
                            dui:Layout.AutoHideLastDivider="True">
        
        <dui:CollectionView.Header>
            <Grid Padding="{dui:Thickness Top=size_4, Bottom=size_4}">
                <dui:ListItem Title="Global Header" />
            </Grid>
        </dui:CollectionView.Header>
        
        <dui:CollectionView.FooterTemplate>
            <DataTemplate>
                

                    <dui:AlertView Title="Dette er en veldig lang tekst som skal virkelig bli truncated, altsÃ¥ teksten skal bli truncated"
                                   TitleTruncationMode="Moderate"
                                   Margin="{dui:Thickness Left=size_3, Right=size_3}"/>
                    
            </DataTemplate>
        </dui:CollectionView.FooterTemplate>
        
        <dui:CollectionView.ItemTemplate>
            <DataTemplate>
                
                        <dui:ListItem Title="{Binding Name}"
                                      HasBottomDivider="True" />
                            
                           
                            
            </DataTemplate>
        </dui:CollectionView.ItemTemplate>
        
    </dui:CollectionView>
    </Grid>
</dui:ContentPage>