<?xml
    version="1.0"
    encoding="utf-8"?>

<dui:ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                 xmlns:vetleSamples="clr-namespace:Playground.VetleSamples"
                 xmlns:dui="http://dips.com/mobile.ui"
                 xmlns:system="clr-namespace:System;assembly=System.Runtime"
                 x:Class="Playground.VetleSamples.VetlePage"
                 x:Name="This"
                 HideSoftInputOnTapped="True"
                 BackgroundColor="{dui:Colors color_neutral_30}">

    <dui:ContentPage.BindingContext>
        <vetleSamples:VetlePageViewModel />
    </dui:ContentPage.BindingContext>

    <dui:ContentPage.Resources>
        <DataTemplate x:Key="Test1">
            <Grid BackgroundColor="White"
                  RowDefinitions="50">
                
                <dui:ListItem Title="{Binding .}"></dui:ListItem>
                
            </Grid>
        </DataTemplate>
        
        <DataTemplate x:Key="Test2">
            <Grid BackgroundColor="White"
                  RowDefinitions="Auto, 100">
                
                <dui:ListItem Title="{Binding .}"></dui:ListItem>

                <dui:Label Text="This is test 2"
                           Grid.Row="1"/>

                
            </Grid>
        </DataTemplate>
        
        <vetleSamples:TemplateSelector x:Key="TemplateSelector"
                                       Test1="{StaticResource Test1}"
                                       Test2="{StaticResource Test2}" />
    </dui:ContentPage.Resources>

    <dui:RefreshView Command="{Binding RefreshCommand}"
                     IsRefreshing="{Binding IsRefreshing}">
    <dui:CollectionView ItemsSource="{Binding TestStrings}"
                        ItemTemplate="{StaticResource TemplateSelector}"
                        x:Name="CollectionView"
                        dui:Layout.AutoCornerRadius="True"
                        ItemSpacing="{dui:Sizes size_4}"
                        BackgroundColor="Transparent">
        
        <!--<dui:CollectionView.GroupHeaderTemplate>
            <DataTemplate>
                <Grid Margin="{dui:Thickness Top=size_4}">
                    <dui:Label Text="{Binding Header}"
                               BackgroundColor="Transparent"
                               Margin="{dui:Thickness Top=size_4}"/>
                </Grid>
            </DataTemplate>
        </dui:CollectionView.GroupHeaderTemplate>-->
        
        <!--<dui:CollectionView.Header>
            <Button Text="Test!"
                    BackgroundColor="Red"
                    Clicked="Button_OnClicked"></Button>
        </dui:CollectionView.Header>-->
        
        <dui:CollectionView.Header>
            <dui:ListItem Title="Hello"></dui:ListItem>
        </dui:CollectionView.Header>
        
        <dui:CollectionView.Footer>
            <dui:Label Text="Footer!"></dui:Label>
        </dui:CollectionView.Footer>
        
        <!--<CollectionView.GroupFooterTemplate>
            <DataTemplate>
                <dui:Label Text="Hei der!"></dui:Label>
            </DataTemplate>
        </CollectionView.GroupFooterTemplate>-->
        
        <!--<dui:CollectionView.ItemTemplate>
            <DataTemplate x:DataType="system:String">
                
                <Grid BackgroundColor="White">
                
                    <dui:Label Text="{Binding .}" />
                    
                </Grid>
                
            </DataTemplate>
        </dui:CollectionView.ItemTemplate>-->

    </dui:CollectionView>
    </dui:RefreshView>

</dui:ContentPage>