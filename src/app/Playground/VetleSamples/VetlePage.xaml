<?xml version="1.0" encoding="utf-8"?>

<dui:ContentSavePage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                     xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                     xmlns:dui="http://dips.com/mobile.ui"
                     xmlns:vetleSamples="clr-namespace:Playground.VetleSamples"
                     x:Class="Playground.VetleSamples.VetlePage"
                     x:DataType="{x:Type vetleSamples:VetlePageViewModel}"
                     BackgroundColor="White"
                     IsSaving="{Binding IsSaving}"
                     SavingText="Saving"
                     x:Name="This">

    <dui:ContentPage.BindingContext>
        <vetleSamples:VetlePageViewModel />
    </dui:ContentPage.BindingContext>

    <dui:ContentPage.ToolbarItems>
        <ToolbarItem IconImageSource="{dui:Icons bell_fill}" Command="{Binding CompletedCommand}" />
        <ToolbarItem Text="Test" />
    </dui:ContentPage.ToolbarItems>

    <dui:VerticalStackLayout Padding="20">

        <dui:ListItem Title="Test"
                      BackgroundColor="Green"
                      Command="{Binding Navigate}">
            
            <Border WidthRequest="150"
                     HeightRequest="150"
                     BackgroundColor="Yellow"
                dui:Touch.Command="{Binding Test}" />
            
            <dui:ListItem.UnderlyingContent>
                
                
                <dui:VerticalStackLayout BindableLayout.ItemsSource="{Binding TestStrings}" HeightRequest="150"
                         BackgroundColor="Red"
                         WidthRequest="150" >
                    
                    <BindableLayout.ItemTemplate>
                        <DataTemplate>
                            
                        <Button HeightRequest="75"
                                WidthRequest="75"
                                Text="25"
                                Command="{Binding Source={x:Reference This}, Path=BindingContext.CompletedCommand}"
                                BackgroundColor="Brown"></Button>
                        </DataTemplate>
                        
                    </BindableLayout.ItemTemplate>
                    
                </dui:VerticalStackLayout>

            </dui:ListItem.UnderlyingContent>
            
        </dui:ListItem>
        
        <dui:ListItem Title="Hei"
                      Command="{Binding Navigate}"></dui:ListItem>
        
            <Border WidthRequest="150"
                     HeightRequest="150"
                     BackgroundColor="Yellow"
                dui:Touch.Command="{Binding Test}" />

    </dui:VerticalStackLayout>


</dui:ContentSavePage>