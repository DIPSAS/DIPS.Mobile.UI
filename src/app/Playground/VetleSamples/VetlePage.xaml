<?xml
    version="1.0"
    encoding="utf-8"?>

<dui:ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                 xmlns:vetleSamples="clr-namespace:Playground.VetleSamples"
                 xmlns:dui="http://dips.com/mobile.ui"
                 x:Class="Playground.VetleSamples.VetlePage"
                 x:DataType="{x:Type vetleSamples:VetlePageViewModel}"
                 Padding="20"
                 x:Name="This">

    <dui:ContentPage.BindingContext>
        <vetleSamples:VetlePageViewModel />
    </dui:ContentPage.BindingContext>

    <dui:ContentPage.ToolbarItems>
        <ToolbarItem Text="hei" />
    </dui:ContentPage.ToolbarItems>

    <Grid RowDefinitions="Auto, *">
        <dui:SearchBar x:Name="SearchBar" />

        <dui:VirtualListView Adapter="{Binding Adapter}"
                             Grid.Row="1"
                             ViewToUnfocusOnScrolled="{x:Reference SearchBar}">
            <dui:VirtualListView.GlobalHeader>
                <Label Text="hehe"></Label>
            </dui:VirtualListView.GlobalHeader>
            
            <dui:VirtualListView.ItemTemplate>
                <DataTemplate>
                    <dui:ListItem Title="Hei!" />
                </DataTemplate>
            </dui:VirtualListView.ItemTemplate>
            
            <dui:VirtualListView.EmptyView>
                <dui:ActivityIndicator />
            </dui:VirtualListView.EmptyView>
            
            <dui:VirtualListView.GlobalFooter>
                <Grid>
                <BoxView HeightRequest="1000"
                         BackgroundColor="Red"/>
                </Grid>
            </dui:VirtualListView.GlobalFooter>
            
        </dui:VirtualListView>

    </Grid>


</dui:ContentPage>